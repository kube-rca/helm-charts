# Istio istiod values
# istiod 네임스페이스 리소스 설정

defaultRevision: default

global:
  istioNamespace: istio-system
  # resourceScope를 분리하여 ArgoCD shared resource 충돌 방지
  # istio-base: cluster (CRDs, ValidatingWebhook)
  # istio-istiod: namespace (ServiceAccount)
  resourceScope: namespace

base:
  enableCRDTemplates: true
  enableIstioConfigCRDs: true

meshConfig:
  extensionProviders:
    - name: otel-tracing
      opentelemetry:
        service: tempo.monitoring.svc.cluster.local
        port: 4317
  defaultProviders:
    tracing:
      - otel-tracing

pilot:
  traceSampling: 100
