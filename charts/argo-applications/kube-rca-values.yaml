applications:
  - name: argocd
    namespace: argocd
    source:
      repoURL: https://github.com/kube-rca/helm-charts.git
      targetRevision: main
      path: charts/argo-cd
      helm:
        valueFiles:
          - kube-rca-values.yaml
  - name: argo-applications
    namespace: argocd
    source:
      repoURL: https://github.com/kube-rca/helm-charts.git
      targetRevision: main
      path: charts/argo-applications
      helm:
        valueFiles:
          - kube-rca-values.yaml
  - name: k8s-resources
    namespace: argocd
    destination:
      namespace: kube-rca
    source:
      repoURL: https://github.com/kube-rca/k8s-resources.git
      targetRevision: main
      path: external-secrets
      directory:
        recurse: true
  - name: ingress-nginx
    namespace: argocd
    destination:
      namespace: ingress-nginx
    source:
      repoURL: https://github.com/kube-rca/helm-charts.git
      targetRevision: main
      path: charts/ingress-nginx
      helm:
        valueFiles:
          - kube-rca-values.yaml
  - name: postgresql
    namespace: argocd
    destination:
      namespace: kube-rca
    source:
      repoURL: https://github.com/kube-rca/helm-charts.git
      targetRevision: main
      path: charts/postgresql
      helm:
        valueFiles:
          - kube-rca-values.yaml
  - name: kube-rca
    namespace: argocd
    destination:
      namespace: kube-rca
    source:
      repoURL: https://github.com/kube-rca/helm-charts.git
      targetRevision: main
      path: charts/kube-rca
      helm:
        valueFiles:
          - kube-rca-values.yaml
  - name: kube-prometheus-stack
    namespace: argocd
    destination:
      namespace: monitoring
    source:
      repoURL: https://github.com/kube-rca/helm-charts.git
      targetRevision: main
      path: charts/kube-prometheus-stack
      helm:
        valueFiles:
          - kube-rca-values.yaml
  - name: alloy
    namespace: argocd
    destination:
      namespace: monitoring
    source:
      repoURL: https://github.com/kube-rca/helm-charts.git
      targetRevision: main
      path: charts/alloy
      helm:
        valueFiles:
          - kube-rca-values.yaml
  - name: loki
    namespace: argocd
    destination:
      namespace: monitoring
    source:
      repoURL: https://github.com/kube-rca/helm-charts.git
      targetRevision: main
      path: charts/loki
      helm:
        valueFiles:
          - kube-rca-values.yaml
  - name: microservices-demo
    namespace: argocd
    destination:
      namespace: microservices-demo
    source:
      repoURL: https://github.com/GoogleCloudPlatform/microservices-demo.git
      targetRevision: main
      path: release
      directory:
        include: "kubernetes-manifests.yaml"
